(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2506:(e,t,s)=>{Promise.resolve().then(s.bind(s,7771))},7771:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(4568),a=s(7620);let l="http://localhost:3000",o="http://localhost:3000";function n(e){let{email:t,setEmail:s,password:a,setPassword:l,error:o,isLoading:n,onSubmit:i}=e;return(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg transform rotate-3 hover:rotate-6 transition-transform",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,r.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-800 via-gray-700 to-gray-600 bg-clip-text text-transparent mb-2",children:"Admin Panel"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Sign in to continue to your dashboard"})]}),(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8 transform transition-all hover:shadow-3xl",children:[(0,r.jsxs)("form",{onSubmit:i,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,r.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>s(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-gray-800 placeholder-gray-400",placeholder:"admin@example.com"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,r.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-gray-800 placeholder-gray-400",placeholder:"Enter your password"})]})]}),o&&(0,r.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg flex items-start gap-3 animate-shake",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-sm",children:"Authentication Failed"}),(0,r.jsx)("p",{className:"text-sm",children:o})]})]}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-4 focus:ring-blue-200 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:transform-none",children:n?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),(0,r.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,r.jsx)("p",{className:"text-center text-xs text-gray-500",children:"Protected by enterprise-grade security"})})]}),(0,r.jsx)("p",{className:"text-center text-sm text-gray-400 mt-6",children:"\xa9 2025 Admin Platform. All rights reserved."})]})})}var i=s(3326),d=s(4131),c=s(5724),x=s(4503),h=s(5236),m=s(5659),u=s(994);function g(e){var t,s,a,l,o,n,g,b,j,p,f,v;let{user:w,onLogout:y,postsStats:N}=e;return(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back!"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[w.email," • ",w.role]})]})]}),(0,r.jsx)("button",{onClick:y,className:"bg-gradient-to-r from-red-500 to-red-600 text-white py-2 px-6 rounded-xl font-semibold hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Logout"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Total Users"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:null!=(t=null==N?void 0:N.totalUsers)?t:"—"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Lost vs Found"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null!=(s=null==N?void 0:N.lostPosts)?s:"—"}),(0,r.jsx)("p",{className:"text-xl text-gray-400",children:"/"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null!=(a=null==N?void 0:N.foundPosts)?a:"—"})]})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Posts Last Week"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:null!=(l=null==N?void 0:N.postsLastWeek)?l:"—"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Total Posts"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:null!=(o=null==N?void 0:N.totalPosts)?o:"—"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"With Reward"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null!=(n=null==N?void 0:N.postsWithReward)?n:"—"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[null!=(g=null==N?void 0:N.percentageWithReward)?g:0,"% of total"]})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Without Reward"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-600",children:null!=(b=null==N?void 0:N.postsWithoutReward)?b:"—"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[N?100-N.percentageWithReward:0,"% of total"]})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-400 to-gray-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Total Partners"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:null!=(j=null==N?void 0:N.totalPartners)?j:"—"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-400 to-teal-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Partner Locations"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:null!=(p=null==N?void 0:N.totalPartnerLocations)?p:"—"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-cyan-600 rounded-xl flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Resolved Posts"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null!=(f=null==N?void 0:N.resolvedPosts)?f:"—"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==N?void 0:N.totalPosts)?Math.round(N.resolvedPosts/N.totalPosts*100):0,"% of total"]})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"User Growth - Last 30 Days"})]}),(0,r.jsx)(i.u,{width:"100%",height:300,children:(0,r.jsxs)(d.E,{data:(null==N?void 0:N.userGrowth)||[],children:[(0,r.jsx)(c.d,{strokeDasharray:"3 3"}),(0,r.jsx)(x.W,{dataKey:"date",tickFormatter:e=>{let t=new Date(e);return"".concat(t.getMonth()+1,"/").concat(t.getDate())}}),(0,r.jsx)(h.h,{label:{value:"New Users",angle:-90,position:"insideLeft"}}),(0,r.jsx)(m.m,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>[e,"New Users"]}),(0,r.jsx)(u.yP,{dataKey:"count",fill:"#8b5cf6"})]})})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Average Reward per Category"})]}),(0,r.jsx)(i.u,{width:"100%",height:300,children:(0,r.jsxs)(d.E,{data:(null==N?void 0:N.categoryStats)||[],children:[(0,r.jsx)(c.d,{strokeDasharray:"3 3"}),(0,r.jsx)(x.W,{dataKey:"category",angle:-45,textAnchor:"end",height:80}),(0,r.jsx)(h.h,{label:{value:"Avg Reward (€)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(m.m,{formatter:e=>"€".concat(e.toFixed(2))}),(0,r.jsx)(u.yP,{dataKey:"averageReward",fill:"#10b981"})]})})]}),(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Post Count per Category"})]}),(0,r.jsx)(i.u,{width:"100%",height:300,children:(0,r.jsxs)(d.E,{data:(null==N?void 0:N.categoryStats)||[],children:[(0,r.jsx)(c.d,{strokeDasharray:"3 3"}),(0,r.jsx)(x.W,{dataKey:"category",angle:-45,textAnchor:"end",height:80}),(0,r.jsx)(h.h,{label:{value:"Total Posts",angle:-90,position:"insideLeft"}}),(0,r.jsx)(m.m,{}),(0,r.jsx)(u.yP,{dataKey:"totalPostCount",fill:"#3b82f6"})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Latest Searches"})]}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-pink-100 to-pink-200 rounded-lg px-3 py-1",children:(0,r.jsxs)("p",{className:"text-xs font-bold text-pink-700",children:[null!=(v=null==N?void 0:N.searchLogsLastWeek)?v:"—"," this week"]})})]}),(0,r.jsx)("div",{className:"space-y-3",children:(null==N?void 0:N.latestSearches)&&N.latestSearches.length>0?N.latestSearches.map((e,t)=>(0,r.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-3 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-700 truncate flex-1",children:e.query}),(0,r.jsx)("p",{className:"text-xs text-gray-500 ml-2",children:new Date(e.timestamp).toLocaleString()})]})},e.id)):(0,r.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent searches"})})]}),(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Unused Access Codes"})]}),(0,r.jsx)("div",{className:"space-y-3",children:(null==N?void 0:N.unusedAccessCodes)&&N.unusedAccessCodes.length>0?N.unusedAccessCodes.map((e,t)=>(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 border border-green-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-mono font-bold text-gray-800",children:e}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e)},className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-3 py-1 rounded-lg text-xs font-semibold hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-200 transition-all",children:"Copy"})]})},t)):(0,r.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No unused access codes"})})]})]})]})})}function b(){let e=function(){let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),[o,n]=(0,a.useState)(""),[i,d]=(0,a.useState)(!1),[c,x]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[u,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await fetch("".concat(l,"/auth/refresh"),{method:"POST",credentials:"include"});if(e.ok){let t=await e.json();g(t.accessToken);let s=JSON.parse(atob(t.accessToken.split(".")[1]));m({id:s.sub,email:s.email,role:s.role}),x(!0)}}catch(e){}},j=async t=>{t.preventDefault(),n(""),d(!0);try{let t=await fetch("".concat(l,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:s})});if(!t.ok)throw Error("Invalid credentials");let r=await t.json();g(r.accessToken),x(!0),m(r.user)}catch(e){n(e instanceof Error?e.message:"Login failed")}finally{d(!1)}},p=async()=>{try{await fetch("".concat(l,"/auth/logout"),{method:"POST",credentials:"include"})}catch(e){console.error("Logout error:",e)}g(null),x(!1),m(null),t(""),r("")};return{email:e,setEmail:t,password:s,setPassword:r,error:o,isLoading:i,isAuthenticated:c,user:h,accessToken:u,handleLogin:j,handleLogout:p}}(),t=function(e,t){let[s,r]=(0,a.useState)([]),[l,n]=(0,a.useState)(null),[i,d]=(0,a.useState)("Posts"),[c,x]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),u=async()=>{if(e){x(!0),m("");try{let t=await fetch("".concat(o,"/metrics/posts/stats"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw Error("Failed to fetch stats: ".concat(t.statusText));let s=await t.json();n(s)}catch(e){m(e instanceof Error?e.message:"Failed to fetch stats"),n(null)}finally{x(!1)}}},g=async t=>{if(e){x(!0),m("");try{let s=await fetch("".concat(o,"/metrics/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw Error("Failed to fetch data: ".concat(s.statusText));let a=await s.json();r(Array.isArray(a)?a:[])}catch(e){m(e instanceof Error?e.message:"Failed to fetch data"),r([])}finally{x(!1)}}};return(0,a.useEffect)(()=>{t&&e&&u()},[t,e]),{firestoreData:s,postsStats:l,selectedCollection:i,setSelectedCollection:d,isLoadingData:c,dataError:h,fetchFirestoreData:g,fetchPostsStats:u,resetData:()=>{r([]),n(null),m("")}}}(e.accessToken,e.isAuthenticated),s=async()=>{await e.handleLogout(),t.resetData()};return e.isAuthenticated&&e.user?(0,r.jsx)(g,{user:e.user,onLogout:s,postsStats:t.postsStats,isLoadingData:t.isLoadingData,dataError:t.dataError,fetchPostsStats:t.fetchPostsStats}):(0,r.jsx)(n,{email:e.email,setEmail:e.setEmail,password:e.password,setPassword:e.setPassword,error:e.error,isLoading:e.isLoading,onSubmit:e.handleLogin})}}},e=>{e.O(0,[314,587,18,358],()=>e(e.s=2506)),_N_E=e.O()}]);